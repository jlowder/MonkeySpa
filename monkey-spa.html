<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monkey Spa</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2NjdlZWE7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6Izc2NGJhMjtzdG9wLW9wYWNpdHk6MSIgLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjYiIGZpbGw9InVybCgjZ3JhZCkiLz4KICA8cmVjdCB4PSI0IiB5PSI0IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuOSIvPgogIDxyZWN0IHg9IjE0IiB5PSI0IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuOSIvPgogIDxyZWN0IHg9IjI0IiB5PSI0IiB3aWR0aD0iNCIgaGVpZ2h0PSI4IiByeD0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuNyIvPgogIDxyZWN0IHg9IjQiIHk9IjE0IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuOSIvPgogIDxyZWN0IHg9IjE0IiB5PSIxNCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjIiIGZpbGw9IndoaXRlIiBvcGFjaXR5PSIwLjkiLz4KICA8cmVjdCB4PSIyNCIgeT0iMTQiIHdpZHRoPSI0IiBoZWlnaHQ9IjgiIHJ4PSIyIiBmaWxsPSJ3aGl0ZSIgb3BhY2l0eT0iMC43Ii8+CiAgPHJlY3QgeD0iNCIgeT0iMjQiIHdpZHRoPSI4IiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSJ3aGl0ZSIgb3BhY2l0eT0iMC43Ii8+CiAgPHJlY3QgeD0iMTQiIHk9IjI0IiB3aWR0aD0iOCIgaGVpZ2h0PSI0IiByeD0iMiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9IjAuNyIvPgogIDxyZWN0IHg9IjI0IiB5PSIyNCIgd2lkdGg9IjQiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IndoaXRlIiBvcGFjaXR5PSIwLjUiLz4KPC9zdmc+">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
		<h1><img src="paw.png" alt="Monkey's Paw"> Monkey Spa</h1>
            <div class="header-actions">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search webapps..." class="search-input">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <button id="addAppBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Webapp
                </button>
                <button id="exportBtn" class="btn btn-secondary">
                    <i class="fas fa-download"></i> Export
                </button>
                <button id="importBtn" class="btn btn-secondary">
                    <i class="fas fa-upload"></i> Import
                </button>
            </div>
        </header>

        <div class="filters">
            <select id="sortSelect" class="filter-select">
                <option value="dateAdded">Sort by Date Added</option>
                <option value="name">Sort by Name</option>
                <option value="lastUsed">Sort by Last Used</option>
            </select>
            <select id="categoryFilter" class="filter-select">
                <option value="">All Categories</option>
                <option value="productivity">Productivity</option>
                <option value="games">Games</option>
                <option value="utilities">Utilities</option>
                <option value="entertainment">Entertainment</option>
                <option value="other">Other</option>
            </select>
        </div>

        <div id="webappGrid" class="webapp-grid">
            <!-- Webapp cards will be dynamically inserted here -->
        </div>

        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-folder-open"></i>
            <h3>No webapps found</h3>
            <p>Add your first webapp to get started!</p>
        </div>
    </div>

    <!-- Add/Edit Webapp Modal -->
    <div id="appModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Add New Webapp</h2>
                <span class="close">&times;</span>
            </div>
            <form id="appForm">
                <div class="form-group">
                    <label for="appName">Name *</label>
                    <input type="text" id="appName" required>
                </div>
                <div class="form-group">
                    <label for="appDescription">Description</label>
                    <textarea id="appDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="appFile">HTML File *</label>
                    <input type="file" id="appFile" accept=".html" required>
                    <small>Select the HTML file for your webapp</small>
                </div>
                <div class="form-group">
                    <label for="appCategory">Category</label>
                    <select id="appCategory">
                        <option value="other">Other</option>
                        <option value="productivity">Productivity</option>
                        <option value="games">Games</option>
                        <option value="utilities">Utilities</option>
                        <option value="entertainment">Entertainment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="appTags">Tags</label>
                    <input type="text" id="appTags" placeholder="Comma-separated tags">
                </div>
                <div class="form-group">
                    <label for="appScreenshot">Custom Screenshot (optional)</label>
                    <input type="file" id="appScreenshot" accept="image/*">
                    <small>Upload a custom screenshot image (will override auto-generated screenshot)</small>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Webapp</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Delete Webapp</h2>
                <span class="close">&times;</span>
            </div>
            <p>Are you sure you want to delete this webapp? This action cannot be undone.</p>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancelDeleteBtn">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>

    <!-- Import/Export Modal -->
    <div id="importExportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="importExportTitle">Export Data</h2>
                <span class="close">&times;</span>
            </div>
            <div id="exportSection">
                <p>Choose the format to export your webapp data:</p>
                <div class="format-options">
                    <button id="exportJsonBtn" class="btn btn-primary">
                        <i class="fas fa-file-code"></i> Export as JSON
                    </button>
                    <button id="exportXmlBtn" class="btn btn-primary">
                        <i class="fas fa-file-code"></i> Export as XML
                    </button>
                </div>
            </div>
            <div id="importSection" style="display: none;">
                <p>Select a file to import webapp data:</p>
                <div class="form-group">
                    <label for="importFile">Import File (JSON or XML)</label>
                    <input type="file" id="importFile" accept=".json,.xml" required>
                    <small>Select a JSON or XML file exported from Monkey Spa</small>
                </div>
                <div class="import-options">
                    <label>
                        <input type="radio" name="importMode" value="merge" checked>
                        Merge with existing data
                    </label>
                    <label>
                        <input type="radio" name="importMode" value="replace">
                        Replace all existing data
                    </label>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelImportBtn">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmImportBtn">Import Data</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
